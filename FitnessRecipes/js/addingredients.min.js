(function(){$(document).ready(function(){$("#tbSearchField").focus();var i=$("#btnSearchIngredients"),t=$("#addedIngredients"),n=$("#hiMealId").val();$("#ingredientCategories").load("/meal/GetIngredientCategories",function(){$(".categoryIngredient").bind("click",function(){$("#searchResult").load("/ingredient/Categories?id="+$(this).data("categoryid"),function(){$(".ingredientPopup").bind("click",function(){$("#addModal").reveal(),$("#hiIngredientId").val($(this).data("ingredientid"))}),$(".superIngredient").click(function(){$(this).parent().siblings(".subIngredient").toggle(),$("#hiIngredientId").val($(this).data("ingredientid"))})})})}),t.load("/meal/GetIngredientsForMeal?id="+n),$("#btnIngredientsAdd").click(function(){$.post("/meal/AddIngredientToMeal?mealId="+n+"&ingredientId="+$("#hiIngredientId").val()+"&quantity="+$("#tbQuantity").val()+"&quantityId="+$("#ddlQuantityType").val()+"&optional="+$("#cbOptional").val(),function(){$("#addModal").trigger("reveal:close"),t.load("/meal/GetIngredientsForMeal?id="+n)})}),i.bind("click",function(){$("#searchResult").load("/ingredient/SearchResult?searchString="+$("#tbSearchField").val(),function(){$(".ingredientPopup").click(function(){$("#addModal").reveal(),$("#hiIngredientId").val($(this).data("ingredientid"))}),$(".superIngredient").click(function(){$(this).parent().siblings(".subIngredient").toggle(),$("#hiIngredientId").val($(this).data("ingredientid"))})})})})}).call(this)